{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Documents/Repos/ZeeMee/barcraft-frontend/src/components/CocktailList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { fetchCocktails } from \"../api/cocktailService\";\nimport \"./CocktailList.css\";\nimport CocktailSearchCard from \"./CocktailSearchCard\";\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport AppHeader from \"./AppHeader\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CocktailList = () => {\n  _s();\n  const navigate = useNavigate();\n  const params = useSearchParams();\n  console.log(params);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [cocktails, setCocktails] = useState([]);\n  const [query, setQuery] = useState(searchParams.get(\"query\") || \"\");\n  const [currentPage, setCurrentPage] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [totalRecords, setTotalRecords] = useState(0);\n  const [currentFilterQuery, setCurrentFilterQuery] = useState(false);\n  const getCocktails = useCallback(async () => {\n    setLoading(true);\n    try {\n      const data = await fetchCocktails(currentPage, 6, query);\n      setCocktails(data.drinks);\n      setTotalRecords(data.totalCount);\n    } catch (error) {\n      console.error(\"Error fetching cocktails:\", error);\n    }\n    /**\n     * Temporary in order to simulate loading from deployed API\n     */\n    setTimeout(() => {\n      setLoading(false);\n      setCurrentFilterQuery(query);\n      setSearchParams(params => {\n        if (query) {\n          params.set(\"query\", query);\n        } else {\n          params.delete(\"query\");\n        }\n        return params;\n      });\n    }, 300);\n  }, [query, currentPage]);\n\n  /**\n   * Load cocktails on inital page load\n   */\n  useEffect(() => {\n    getCocktails();\n  }, [currentPage]);\n  const handlePreviousClick = useCallback(() => {\n    const prevPage = currentPage - 1 > 0 ? currentPage - 1 : 0;\n    setCurrentPage(prevPage);\n  }, [currentPage]);\n  const handleQueryChange = useCallback(e => {\n    setCurrentPage(0);\n    setQuery(e.target.value);\n  }, []);\n  const handleNextClick = useCallback(() => {\n    /**\n     * Need to add logic to ensure that next page can never be greater than\n     * total number of pages\n     */\n    setCurrentPage(currentPage + 1);\n  }, [currentPage]);\n  const handleCardClick = useCallback(id => {\n    // Navigate to the details page for the selected cocktail\n    console.log(\"Navigating\");\n    navigate(`/${id}${currentFilterQuery && `?query=${currentFilterQuery}`}`);\n  }, [currentFilterQuery]);\n\n  /**\n   * Need to add logic and CSS for disabling buttons\n   */\n  const prevButtonDisabled = currentPage === 0;\n  // const nextButtonDisabled = totalRecords && totalRecords / 6 > currentPage;\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AppHeader, {\n      query: query,\n      onQueryChange: handleQueryChange,\n      onSearch: getCocktails\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cocktail-list-container\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 52\n        }, this), \"Searching...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-header-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"query-description\",\n            children: currentFilterQuery ? `Search: ${currentFilterQuery}` : \"All Drinks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [totalRecords, \" result\", totalRecords > 1 ? \"s\" : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cocktail-grid\",\n          children: cocktails.map((cocktail, idx) => /*#__PURE__*/_jsxDEV(CocktailSearchCard, {\n            imgSrc: cocktail.image,\n            name: cocktail.name,\n            category: cocktail.category,\n            onClick: () => {\n              handleCardClick(cocktail.id);\n            }\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePreviousClick,\n            disabled: prevButtonDisabled,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"previous-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 93\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNextClick,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"next-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 59\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n_s(CocktailList, \"XcRFAuG9x8pKYgP6L6S+LWx5vVE=\", false, function () {\n  return [useNavigate, useSearchParams, useSearchParams];\n});\n_c = CocktailList;\nexport default CocktailList;\nvar _c;\n$RefreshReg$(_c, \"CocktailList\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","fetchCocktails","CocktailSearchCard","useNavigate","useSearchParams","AppHeader","jsxDEV","_jsxDEV","Fragment","_Fragment","CocktailList","_s","navigate","params","console","log","searchParams","setSearchParams","cocktails","setCocktails","query","setQuery","get","currentPage","setCurrentPage","loading","setLoading","totalRecords","setTotalRecords","currentFilterQuery","setCurrentFilterQuery","getCocktails","data","drinks","totalCount","error","setTimeout","set","delete","handlePreviousClick","prevPage","handleQueryChange","e","target","value","handleNextClick","handleCardClick","id","prevButtonDisabled","children","onQueryChange","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","className","map","cocktail","idx","imgSrc","image","name","category","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/chris/Documents/Repos/ZeeMee/barcraft-frontend/src/components/CocktailList.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { fetchCocktails } from \"../api/cocktailService\";\nimport \"./CocktailList.css\";\nimport CocktailSearchCard from \"./CocktailSearchCard\";\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport AppHeader from \"./AppHeader\";\n\nconst CocktailList = () => {\n  const navigate = useNavigate();\n\n  const params = useSearchParams();\n  console.log(params);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [cocktails, setCocktails] = useState([]);\n  const [query, setQuery] = useState(searchParams.get(\"query\") || \"\");\n  const [currentPage, setCurrentPage] = useState(0)\n  const [loading, setLoading] = useState(true);\n  const [totalRecords, setTotalRecords] = useState(0);\n  const [currentFilterQuery, setCurrentFilterQuery] = useState(false);\n\n  const getCocktails = useCallback(async () => {\n    setLoading(true);\n    try {\n      const data = await fetchCocktails(currentPage, 6, query);\n      setCocktails(data.drinks);\n      setTotalRecords(data.totalCount);\n    } catch (error) {\n      console.error(\"Error fetching cocktails:\", error);\n    }\n    /**\n     * Temporary in order to simulate loading from deployed API\n     */\n    setTimeout(() => {\n      setLoading(false);\n      setCurrentFilterQuery(query);\n      setSearchParams(params => {\n        if (query) {\n          params.set(\"query\", query);\n        } else {\n          params.delete(\"query\");\n        }\n        return params;\n      });\n    }, 300)\n  }, [query, currentPage]);\n\n  /**\n   * Load cocktails on inital page load\n   */\n  useEffect(() => {\n    getCocktails();\n  }, [currentPage]);\n\n  const handlePreviousClick = useCallback(() => {\n    const prevPage = currentPage - 1 > 0 ? currentPage - 1 : 0;\n    setCurrentPage(prevPage);\n  }, [currentPage]);\n\n  const handleQueryChange = useCallback((e) => {\n    setCurrentPage(0);\n    setQuery(e.target.value);\n  }, []);\n\n  const handleNextClick = useCallback(() => {\n    /**\n     * Need to add logic to ensure that next page can never be greater than\n     * total number of pages\n     */\n    setCurrentPage(currentPage + 1);\n  }, [currentPage]);\n\n  const handleCardClick = useCallback((id) => {\n    // Navigate to the details page for the selected cocktail\n    console.log(\"Navigating\");\n    navigate(`/${id}${currentFilterQuery && `?query=${currentFilterQuery}`}`);\n  }, [currentFilterQuery]);\n\n  /**\n   * Need to add logic and CSS for disabling buttons\n   */\n  const prevButtonDisabled = currentPage === 0;\n  // const nextButtonDisabled = totalRecords && totalRecords / 6 > currentPage;\n\n  return (\n    <div>\n        <AppHeader query={query} onQueryChange={handleQueryChange} onSearch={getCocktails} />\n        <div className=\"cocktail-list-container\">\n            {loading ?\n                <div className=\"spinner-container\"><div className=\"spinner-icon\" />Searching...</div> :\n                <>\n                    <div className=\"results-header-container\">\n                        <div className=\"query-description\">{currentFilterQuery ? `Search: ${currentFilterQuery}` : \"All Drinks\"}</div>\n                        <div>{totalRecords} result{totalRecords > 1 ? \"s\" : \"\"}</div>\n                    </div>\n                    <div className=\"cocktail-grid\">\n                        {cocktails.map((cocktail, idx) => (\n                            <CocktailSearchCard\n                                key={idx}\n                                imgSrc={cocktail.image}\n                                name={cocktail.name}\n                                category={cocktail.category}\n                                onClick={() => { handleCardClick(cocktail.id)}}\n                            />\n                        ))}\n                    </div>\n                    <footer className=\"pagination\">\n                        <button onClick={handlePreviousClick} disabled={prevButtonDisabled}><div className=\"previous-icon\" /></button>\n                        <button onClick={handleNextClick}><div className=\"next-icon\" /></button>\n                    </footer>\n                </>\n            }\n        </div>\n    </div>\n  );\n\n};\n\nexport default CocktailList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}